#
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
#
<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ResilientDB: GRAPHQL_SCHEMA_EXAMPLES</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d4/d98/md__2github_2workspace_2ecosystem_2ai-tools_2mcp_2graphq-llm_2docs_2GRAPHQL__SCHEMA__EXAMPLES.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">GRAPHQL_SCHEMA_EXAMPLES</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md1214"></a>
GraphQL Schema Examples</h1>
<p>Based on <code><a class="el" href="../../de/d0e/app_8py.html">app.py</a></code> from incubator-resilientdb-graphql repository.</p>
<h2><a class="anchor" id="autotoc_md1215"></a>
GraphQL Schema Structure</h2>
<h3><a class="anchor" id="autotoc_md1216"></a>
Query Type</h3>
<h4><a class="anchor" id="autotoc_md1217"></a>
<code>getTransaction(id: ID!): RetrieveTransaction</code></h4>
<p>Retrieves a transaction by its ID.</p>
<p><b>Example Query:</b> </p><div class="fragment"><div class="line">query {</div>
<div class="line">  getTransaction(id: &quot;abc123&quot;) {</div>
<div class="line">    id</div>
<div class="line">    version</div>
<div class="line">    amount</div>
<div class="line">    uri</div>
<div class="line">    type</div>
<div class="line">    publicKey</div>
<div class="line">    signerPublicKey</div>
<div class="line">    operation</div>
<div class="line">    metadata</div>
<div class="line">    asset</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Response:</b> </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;data&quot;: {</div>
<div class="line">    &quot;getTransaction&quot;: {</div>
<div class="line">      &quot;id&quot;: &quot;abc123&quot;,</div>
<div class="line">      &quot;version&quot;: &quot;2.0&quot;,</div>
<div class="line">      &quot;amount&quot;: 100,</div>
<div class="line">      &quot;uri&quot;: &quot;uri://...&quot;,</div>
<div class="line">      &quot;type&quot;: &quot;Ed25519Sha256&quot;,</div>
<div class="line">      &quot;publicKey&quot;: &quot;public_key_string&quot;,</div>
<div class="line">      &quot;signerPublicKey&quot;: &quot;signer_public_key&quot;,</div>
<div class="line">      &quot;operation&quot;: &quot;CREATE&quot;,</div>
<div class="line">      &quot;metadata&quot;: null,</div>
<div class="line">      &quot;asset&quot;: { /* JSON object */ }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md1218"></a>
Mutation Type</h3>
<h4><a class="anchor" id="autotoc_md1219"></a>
<code>postTransaction(data: PrepareAsset!): CommitTransaction</code></h4>
<p>Creates and commits a new transaction to ResilientDB.</p>
<p><b>Input Type: <code>PrepareAsset</code></b> </p><div class="fragment"><div class="line">input PrepareAsset {</div>
<div class="line">  operation: String!</div>
<div class="line">  amount: Int!</div>
<div class="line">  signerPublicKey: String!</div>
<div class="line">  signerPrivateKey: String!</div>
<div class="line">  recipientPublicKey: String!</div>
<div class="line">  asset: JSON!</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Example Mutation:</b> </p><div class="fragment"><div class="line">mutation {</div>
<div class="line">  postTransaction(</div>
<div class="line">    data: {</div>
<div class="line">      operation: &quot;CREATE&quot;</div>
<div class="line">      amount: 100</div>
<div class="line">      signerPublicKey: &quot;public_key_string&quot;</div>
<div class="line">      signerPrivateKey: &quot;private_key_string&quot;</div>
<div class="line">      recipientPublicKey: &quot;recipient_public_key&quot;</div>
<div class="line">      asset: {</div>
<div class="line">        &quot;data&quot;: {</div>
<div class="line">          &quot;name&quot;: &quot;My Asset&quot;,</div>
<div class="line">          &quot;description&quot;: &quot;Asset description&quot;</div>
<div class="line">        }</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  ) {</div>
<div class="line">    id</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Response:</b> </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;data&quot;: {</div>
<div class="line">    &quot;postTransaction&quot;: {</div>
<div class="line">      &quot;id&quot;: &quot;transaction_id_here&quot;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1220"></a>
Transaction Types</h2>
<h3><a class="anchor" id="autotoc_md1221"></a>
RetrieveTransaction</h3>
<p>Fields returned when retrieving a transaction:</p>
<ul>
<li><code>id: String</code> - <a class="el" href="../../df/d28/classTransaction.html">Transaction</a> ID</li>
<li><code>version: String</code> - <a class="el" href="../../df/d28/classTransaction.html">Transaction</a> version</li>
<li><code>amount: Int</code> - <a class="el" href="../../df/d28/classTransaction.html">Transaction</a> amount</li>
<li><code>uri: String</code> - URI condition</li>
<li><code>type: String</code> - Condition type (e.g., "Ed25519Sha256")</li>
<li><code>publicKey: String</code> - Public key from output condition</li>
<li><code>signerPublicKey: String</code> - Public key from input (signer)</li>
<li><code>operation: String</code> - Operation type ("CREATE" or "TRANSFER")</li>
<li><code>metadata: String</code> - Optional metadata</li>
<li><code>asset: JSON</code> - Asset data (JSON object)</li>
</ul>
<h3><a class="anchor" id="autotoc_md1222"></a>
CommitTransaction</h3>
<p>Fields returned when committing a transaction:</p>
<ul>
<li><code>id: String</code> - Committed transaction ID</li>
</ul>
<h2><a class="anchor" id="autotoc_md1223"></a>
Key-Value Operations</h2>
<p>Underlying ResilientDB operations use key-value pairs:</p>
<h3><a class="anchor" id="autotoc_md1224"></a>
Key-Value Storage</h3>
<ul>
<li>Transactions are stored as key-value pairs</li>
<li>Key: <a class="el" href="../../df/d28/classTransaction.html">Transaction</a> ID</li>
<li>Value: JSON object containing transaction data</li>
</ul>
<h3><a class="anchor" id="autotoc_md1225"></a>
Example Key-Value Operations</h3>
<p><b>Commit <a class="el" href="../../df/d28/classTransaction.html">Transaction</a> (Key-Value):</b> </p><div class="fragment"><div class="line">curl -X POST -d &#39;{&quot;id&quot;:&quot;key1&quot;,&quot;value&quot;:&quot;value1&quot;}&#39; \</div>
<div class="line">  http://localhost:18000/v1/transactions/commit</div>
</div><!-- fragment --><p><b>Retrieve <a class="el" href="../../df/d28/classTransaction.html">Transaction</a> (Key-Value):</b> </p><div class="fragment"><div class="line">curl http://localhost:18000/v1/transactions/key1</div>
</div><!-- fragment --><p><b>Get All Transactions:</b> </p><div class="fragment"><div class="line">curl http://localhost:18000/v1/transactions</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1226"></a>
Common Patterns</h2>
<h3><a class="anchor" id="autotoc_md1227"></a>
Creating an Asset</h3>
<ol type="1">
<li>Prepare transaction with operation "CREATE"</li>
<li>Specify asset data as JSON</li>
<li>Commit transaction</li>
<li>Get transaction ID</li>
</ol>
<h3><a class="anchor" id="autotoc_md1228"></a>
Transferring an Asset</h3>
<ol type="1">
<li>Prepare transaction with operation "TRANSFER"</li>
<li>Specify recipient public key</li>
<li>Use existing transaction as input</li>
<li>Commit transaction</li>
</ol>
<h3><a class="anchor" id="autotoc_md1229"></a>
Querying Transactions</h3>
<ol type="1">
<li>Use <code>getTransaction</code> query with transaction ID</li>
<li>Retrieve all transaction fields</li>
<li>Access asset data from response</li>
</ol>
<h2><a class="anchor" id="autotoc_md1230"></a>
Notes</h2>
<ul>
<li>All transactions use JSON scalar for flexible asset data</li>
<li>Private keys are required for mutations but never stored</li>
<li>Transactions are immutable once committed</li>
<li>GraphQL provides type safety over raw key-value operations </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
