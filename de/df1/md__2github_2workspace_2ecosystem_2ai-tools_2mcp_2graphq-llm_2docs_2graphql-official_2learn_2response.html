#
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
#
<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ResilientDB: response</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('de/df1/md__2github_2workspace_2ecosystem_2ai-tools_2mcp_2graphq-llm_2docs_2graphql-official_2learn_2response.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">response</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>import { Callout } from "nextra/components"</p>
<h1><a class="anchor" id="autotoc_md981"></a>
Response</h1>
<p>Learn how GraphQL returns data to clients</p>
<p>After a GraphQL document has been <a href="../..//learn/validation/">validated</a> and <a href="../..//learn/execution/">executed</a>, the server will return a <a href="https://spec.graphql.org/draft/#sec-Response">response</a> to the requesting client. One of GraphQL's strengths is that the server response reflects the shape of the client's original request, but a response may also contain helpful information if something unexpected happened before or during the execution of an operation. On this page, we'll take a deeper exploration of this final phase in the lifecycle of a GraphQL request.</p>
<h2><a class="anchor" id="autotoc_md982"></a>
Data</h2>
<p>As we have seen in the examples throughout this guide, when a GraphQL request is executed the response is returned on a top-level <code>data</code> key. For example:</p>
<div class="fragment"><div class="line"># { &quot;graphiql&quot;: true }</div>
<div class="line">query {</div>
<div class="line">  human(id: 1002) {</div>
<div class="line">    name</div>
<div class="line">    appearsIn</div>
<div class="line">    starships {</div>
<div class="line">      name</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>The inclusion of the <code>data</code> key isn't an arbitrary decision made by the underlying GraphQL implementationâ€”it's described by the <a href="https://spec.graphql.org/draft/#sec-Data">GraphQL specification</a>. Under this key, you will find the result of the execution of the requested operation, which may include partial data for the requested fields if errors were raised during the execution of some field resolvers.</p>
<p>One thing that the GraphQL specification doesn't require is a specific serialization format for the response. That said, responses are typically formatted as JSON, as in the example above.</p>
<p>Additionally, the GraphQL specification doesn't require the use of a particular transport protocol for requests either, although it is <a href="../..//learn/serving-over-http/">common for HTTP to be used</a> for stateless query and mutations operations. Long-lived, stateful subscription operations are often supported by WebSockets or server-sent events instead.</p>
<p>&lt;Callout type="info"&gt; There is <a href="https://graphql.github.io/graphql-over-http/draft/">a draft GraphQL over HTTP specification</a> available with further guidelines for using HTTP with GraphQL clients and servers. &lt;/Callout&gt;</p>
<h2><a class="anchor" id="autotoc_md983"></a>
Errors</h2>
<p>In addition to the <code>data</code> key, the GraphQL specification outlines how <a href="https://spec.graphql.org/draft/#sec-Errors">errors</a> should be formatted in the response. Whether the GraphQL implementation provides partial data with the error information in the response will depend on the type of error that was raised. Let's look at the different kinds of errors that can occur during the lifecycle of a GraphQL request.</p>
<h3><a class="anchor" id="autotoc_md984"></a>
Request errors</h3>
<p>Request errors typically occur because the client made a mistake. For example, there may be a <em>syntax error</em> in the document, such as a missing bracket or the use of an unknown root operation type keyword:</p>
<p>{/* */} </p><div class="fragment"><div class="line"># { &quot;graphiql&quot;: true }</div>
<div class="line">operation { </div>
<div class="line">  updateHumanName(id: &quot;1000&quot;, name: &quot;Luke Starkiller&quot; ) {</div>
<div class="line">    id</div>
<div class="line">    name</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>The <code>message</code> key inside the <code>errors</code> object provides some helpful information for the developer to understand what kind of error was raised, and the <code>locations</code> key, if present, indicates where the error occurred in the document.</p>
<p>Sometimes, a GraphQL request may be syntactically correct, but when the server parses and <a href="../..//learn/validation/">validates</a> the document against the schema, it finds an issue with part of the operation and raises a <em>validation error</em>.</p>
<p>For example, the client may request a field that does not exist on the <code>Starship</code> type:</p>
<div class="fragment"><div class="line"># { &quot;graphiql&quot;: true }</div>
<div class="line">query {</div>
<div class="line">  starship(id: 3000) {</div>
<div class="line">    width</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Validation errors also occur when clients specify incorrect variable types for their corresponding field arguments:</p>
<div class="fragment"><div class="line"># { &quot;graphiql&quot;: true, &quot;variables&quot;: { &quot;ep&quot;: &quot;JEDI&quot; } }</div>
<div class="line">query HeroForEpisode($ep: String!) {</div>
<div class="line">  hero(episode: $ep) {</div>
<div class="line">    name</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>In the previous examples, we can see that when a request error occurs the <code>data</code> key will not be included because the server returns an error response to the client before the field resolvers are executed.</p>
<h3><a class="anchor" id="autotoc_md985"></a>
Field errors</h3>
<p>Field errors are raised if something unexpected happens during execution. For example, a resolver may raise an error directly, or may return invalid data such as a null value for a field that has a Non-Null output type.</p>
<p>In these cases, GraphQL will attempt to continue executing the other fields and return a partial response, with the <code>data</code> key appearing alongside the <code>errors</code> key.</p>
<p>Let's look at an example:</p>
<div class="fragment"><div class="line"># { &quot;graphiql&quot;: true }</div>
<div class="line">mutation {</div>
<div class="line">  firstShip: deleteStarship(id: &quot;3001&quot;)</div>
<div class="line">  secondShip: deleteStarship(id: &quot;3010&quot;)</div>
<div class="line">}</div>
</div><!-- fragment --><p>The mutation above attempts to delete two starships in a single operation, but no starship exists with an ID of <code>3010</code> so the server throws an error. In the response, we can see information about the error that occurred for the field that was aliased as <code>secondShip</code>. Under the <code>data</code> key, we also see that the ID of the first ship was returned to indicate successful deletion, while the second ship produced a null result due to the error raised in its resolver function.</p>
<h3><a class="anchor" id="autotoc_md986"></a>
Network errors</h3>
<p>As with network calls to any type of API, network errors that are not specific to GraphQL may happen at any point during a request. These kinds of errors will block communication between the client and server before the request is complete, such as an SSL error or a connection timeout. Depending on the GraphQL server and client libraries that you choose, there may be features built into them that support special network error handling such as retries for failed operations.</p>
<h2><a class="anchor" id="autotoc_md987"></a>
Extensions</h2>
<p>The final top-level key allowed by the GraphQL specification in a response is the <code>extensions</code> key. This key is reserved for GraphQL implementations to provide additional information about the response and though it must be an object if present, there are no other restrictions on what it may contain.</p>
<p>For example, some GraphQL servers may include telemetry data or information about rate limit consumption under this key. Note that what data is available in <code>extensions</code> and whether this data is available in production or development environments will depend entirely on the specific GraphQL implementation.</p>
<h2><a class="anchor" id="autotoc_md988"></a>
Next steps</h2>
<p>To recap what we've learned about GraphQL response formats:</p>
<ul>
<li>The GraphQL specification allows three top-level keys in a response: <code>data</code>, <code>errors</code>, and <code>extensions</code></li>
<li>At least one of <code>data</code> or <code>errors</code> will be present on the response (when it contains both it is a "partial response")</li>
<li>The <code>data</code> key contains the result of the executed operation</li>
<li>Information about raised errors is included in the <code>errors</code> key of the response</li>
<li>Request errors (such as syntax or validation errors) are raised before execution begins so <code>data</code> won't be included in the response</li>
<li>When a field error occurs during execution, there will be a description of the issue in the <code>errors</code> key and there may be partial data included with the <code>data</code> key</li>
<li>GraphQL implementations may include additional arbitrary information about the response in the <code>extensions</code> key</li>
</ul>
<p>Now that you understand the different phases of a GraphQL request and how responses are provided to clients, head over to the <a href="../..//learn/introspection">Introspection</a> page to learn about how a GraphQL server can query information about its own schema. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
