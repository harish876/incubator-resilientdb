#
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
#
<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ResilientDB: debug-errors</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('de/d66/md__2github_2workspace_2ecosystem_2ai-tools_2mcp_2graphq-llm_2docs_2graphql-official_2learn_2debug-errors.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">debug-errors</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md869"></a>
Common HTTP Errors and How to Debug Them</h1>
<p>When building or consuming a GraphQL API over HTTP, it's common to run into errors, especially during development. Understanding how to recognize and resolve these issues can save you time and frustration.</p>
<p>This guide outlines common HTTP and GraphQL errors, what they mean, and how to debug them effectively. It follows the recommendations of the <a href="https://graphql.github.io/graphql-over-http/draft/">GraphQL over HTTP spec (draft)</a>, which standardizes how GraphQL works over HTTP, including request formats, status codes, and media types. Keep in mind that implementations may vary, so treat this as a general guide rather than a definitive reference.</p>
<h2><a class="anchor" id="autotoc_md870"></a>
<code>400 Bad Request</code>: Syntax or parse errors</h2>
<h3><a class="anchor" id="autotoc_md871"></a>
What it means</h3>
<p>The server couldn't parse your request. Either the GraphQL query string is malformed, or the JSON body isn't valid. This is the primary error status recommended by the GraphQL over HTTP specification.</p>
<h3><a class="anchor" id="autotoc_md872"></a>
Common causes</h3>
<ul>
<li>JSON syntax errors</li>
<li>Sending a plain string without wrapping it in <code>{ "query": "..." }</code></li>
<li>Using <code>Content-Type: application/graphql</code> without supporting it</li>
</ul>
<h3><a class="anchor" id="autotoc_md873"></a>
How to debug</h3>
<ul>
<li>Validate your JSON body using a linter or formatter.</li>
<li>Make sure you're sending a <code>POST</code> request with a <code>Content-Type: application/json</code> header.</li>
<li>Check your GraphQL query for syntax errors. Use an IDE or linter to verify it.</li>
</ul>
<h2><a class="anchor" id="autotoc_md874"></a>
<code>405 Method Not Allowed</code>: Wrong HTTP Method</h2>
<h3><a class="anchor" id="autotoc_md875"></a>
What it means</h3>
<p>You're using an unsupported HTTP method. Most GraphQL servers require <code>POST</code> for mutations and may allow <code>GET</code> for queries.</p>
<h3><a class="anchor" id="autotoc_md876"></a>
Common causes</h3>
<ul>
<li>Sending a <code>PUT</code> or <code>DELETE</code> request instead of <code>POST</code> or <code>GET</code></li>
<li>Sending a <code>GET</code> request for a mutation, or to a server that only supports <code>POST</code> requests</li>
</ul>
<h3><a class="anchor" id="autotoc_md877"></a>
How to debug</h3>
<ul>
<li>Check your HTTP method. Mutations must use <code>POST</code>.</li>
<li>Make sure your server supports <code>GET</code> for queries.</li>
<li>Refer to the <a href="https://graphql.github.io/graphql-over-http/draft/">GraphQL over HTTP spec</a> to confirm method support.</li>
</ul>
<h2><a class="anchor" id="autotoc_md878"></a>
<code>500 Internal Server Error</code>: Unexpected server failures</h2>
<h3><a class="anchor" id="autotoc_md879"></a>
What it means</h3>
<p>Something went wrong on the server.</p>
<h3><a class="anchor" id="autotoc_md880"></a>
Common causes</h3>
<ul>
<li>An unhandled exception in a resolver</li>
<li>Schema validation issues during server startup</li>
<li>Missing or misconfigured middleware</li>
</ul>
<h3><a class="anchor" id="autotoc_md881"></a>
How to debug</h3>
<ul>
<li>Check server logs or stack traces.</li>
<li>Add error handling to resolvers.</li>
</ul>
<h2><a class="anchor" id="autotoc_md882"></a>
GraphQL errors with <code>200 OK</code></h2>
<h3><a class="anchor" id="autotoc_md883"></a>
What it means</h3>
<p>The HTTP layer succeeded, but the GraphQL operation produced errors.</p>
<h3><a class="anchor" id="autotoc_md884"></a>
Common causes</h3>
<ul>
<li>Runtime errors during execution</li>
<li>Violating schema constraints (e.g. returning the wrong data type, or <code>null</code> in a non-nullable position)</li>
</ul>
<p>Older servers and clients (those not using <code>Content-Type: application/graphql-response+json</code>) may also use 200 OK in the case of complete request failure (no <code>data</code>). Common causes include:</p>
<ul>
<li>Querying a field that doesn't exist</li>
<li>Passing incorrect arguments to a field</li>
<li>Omitting a selection set on a non-leaf field</li>
<li>Failure to specify the <code>operationName</code> when multiple operations exist in the request</li>
</ul>
<h3><a class="anchor" id="autotoc_md885"></a>
How to debug</h3>
<p>Check the <code>errors</code> array in the response body. If the response includes a <code>data</code> property, then your query document is likely valid and you most likely hit a runtime exception - perhaps due to invalid input, access denial, or a bug in server logic.</p>
<p>If there's no <code>data</code> field, the request likely failed during validation. For example:</p>
<div class="fragment"><div class="line">{</div>
<div class="line">  &quot;errors&quot;: [</div>
<div class="line">    {</div>
<div class="line">      &quot;message&quot;: &quot;Cannot query field \&quot;foo\&quot; on type \&quot;Query\&quot;.&quot;,</div>
<div class="line">      &quot;locations&quot;: [{ &quot;line&quot;: 1, &quot;column&quot;: 3 }]</div>
<div class="line">    }</div>
<div class="line">  ]</div>
<div class="line">}</div>
</div><!-- fragment --><p>Use introspection or an IDE to verify your query matches the schema.</p>
<h2><a class="anchor" id="autotoc_md886"></a>
Implementation-specific status codes</h2>
<p>Some GraphQL server implementations may use additional HTTP status codes that are not explicitly recommended by the specification. These vary by implementation.</p>
<ul>
<li><code>415 Unsupported Media Type</code>: The server doesn't understand the request's <code>Content-Type</code>. This can occur when a GraphQL query is sent with <code>Content-Type: text/plain</code> or another unsupported type.</li>
<li><code>422 Unprocessable Entity</code>: Some implementations use this for GraphQL validation errors instead of <code>200</code> + errors array.</li>
</ul>
<p>These error codes are not recommended by the specification for most cases. Different GraphQL servers handle validation errors differently. When in doubt, use error codes supported by the specification.</p>
<h2><a class="anchor" id="autotoc_md887"></a>
Understanding GraphQL response formats</h2>
<p>Traditionally, GraphQL servers have returned responses using the <code>application/json</code> media type. However, the <a href="https://graphql.github.io/graphql-over-http/draft/">GraphQL over HTTP spec</a> recommends that clients request (and servers respond with) a more specific type: <code>application/graphql-response+json</code>.</p>
<p>This newer media type identifies the payload as a GraphQL response and helps clients distinguish it from other types of JSON, making the response safe to process even if it uses a non-2xx status code. A trusted proxy, gateway, or other intermediary might describe an error using JSON, but would never do so using <code>application/graphql-response+json</code> unless it was a valid GraphQL response.</p>
<h3><a class="anchor" id="autotoc_md888"></a>
What to know</h3>
<ul>
<li>Servers may respond with <code>application/graphql-response+json</code> or <code>application/json</code>.</li>
<li>Clients can request this media type using the <code>Accept</code> header: <code>Accept: application/graphql-response+json, application/json;q=0.9</code> (prefer the new media type over the old one, but accept both)</li>
<li>This content type is recommended, and support for it is growing.</li>
<li>If your client uses content negotiation, ensure your server can response with the appropriate type or fallback to <code>application/json</code>. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
