#
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
#
<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ResilientDB: NEXUS_UI_EXTENSION_GUIDE</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d9/d37/md__2github_2workspace_2ecosystem_2ai-tools_2mcp_2graphq-llm_2NEXUS__UI__EXTENSION__GUIDE.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">NEXUS_UI_EXTENSION_GUIDE</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md1432"></a>
üìù Nexus UI Extension Guide - Complete Code</h1>
<p>This guide contains all the code needed to add the GraphQL Tutor UI to Nexus. Copy these files exactly as shown.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md1434"></a>
üìÅ File Structure</h2>
<div class="fragment"><div class="line">nexus/</div>
<div class="line">‚îú‚îÄ‚îÄ src/</div>
<div class="line">‚îÇ   ‚îú‚îÄ‚îÄ app/</div>
<div class="line">‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/</div>
<div class="line">‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ graphql-tutor/</div>
<div class="line">‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ analyze/</div>
<div class="line">‚îÇ   ‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ route.ts          ‚Üê Create this</div>
<div class="line">‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ graphql-tutor/</div>
<div class="line">‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx                  ‚Üê Create this</div>
<div class="line">‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ components/</div>
<div class="line">‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ tutor-panel.tsx       ‚Üê Create this</div>
<div class="line">‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ explanation-panel.tsx ‚Üê Create this</div>
<div class="line">‚îÇ   ‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ optimization-panel.tsx ‚Üê Create this</div>
<div class="line">‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ efficiency-display.tsx  ‚Üê Create this</div>
<div class="line">‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx                      ‚Üê Modify this (add navigation link)</div>
</div><!-- fragment --><hr  />
<h2><a class="anchor" id="autotoc_md1436"></a>
1. API Route: <code>src/app/api/graphql-tutor/analyze/route.ts</code></h2>
<div class="fragment"><div class="line">import { NextRequest, NextResponse } from &quot;next/server&quot;;</div>
<div class="line"> </div>
<div class="line">/**</div>
<div class="line"> * GraphQ-LLM Analysis API</div>
<div class="line"> * Proxies requests to GraphQ-LLM backend for full query analysis</div>
<div class="line"> */</div>
<div class="line">export async function POST(req: NextRequest) {</div>
<div class="line">  try {</div>
<div class="line">    const { query } = await req.json();</div>
<div class="line"> </div>
<div class="line">    if (!query || typeof query !== &quot;string&quot;) {</div>
<div class="line">      return NextResponse.json(</div>
<div class="line">        { error: &quot;Query is required&quot; },</div>
<div class="line">        { status: 400 }</div>
<div class="line">      );</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    // GraphQ-LLM backend URL (from environment or default)</div>
<div class="line">    const graphqLlmUrl = process.env.GRAPHQ_LLM_API_URL || </div>
<div class="line">                        process.env.NEXT_PUBLIC_GRAPHQ_LLM_API_URL || </div>
<div class="line">                        &quot;http://localhost:3001&quot;;</div>
<div class="line"> </div>
<div class="line">    try {</div>
<div class="line">      // Call GraphQ-LLM explanation service</div>
<div class="line">      const explainResponse = await fetch(`${graphqLlmUrl}/api/explanations/explain`, {</div>
<div class="line">        method: &quot;POST&quot;,</div>
<div class="line">        headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },</div>
<div class="line">        body: JSON.stringify({ query, detailed: true }),</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      // Call GraphQ-LLM optimization service</div>
<div class="line">      const optimizeResponse = await fetch(`${graphqLlmUrl}/api/optimizations/optimize`, {</div>
<div class="line">        method: &quot;POST&quot;,</div>
<div class="line">        headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },</div>
<div class="line">        body: JSON.stringify({ query, includeSimilarQueries: true }),</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      // Call GraphQ-LLM efficiency service</div>
<div class="line">      const efficiencyResponse = await fetch(`${graphqLlmUrl}/api/efficiency/estimate`, {</div>
<div class="line">        method: &quot;POST&quot;,</div>
<div class="line">        headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },</div>
<div class="line">        body: JSON.stringify({ query, useLiveStats: false }),</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      // Parse responses</div>
<div class="line">      const explanationData = explainResponse.ok ? await explainResponse.json() : null;</div>
<div class="line">      const optimizationData = optimizeResponse.ok ? await optimizeResponse.json() : null;</div>
<div class="line">      const efficiencyData = efficiencyResponse.ok ? await efficiencyResponse.json() : null;</div>
<div class="line"> </div>
<div class="line">      // Format explanation response for UI</div>
<div class="line">      const explanation = explanationData</div>
<div class="line">        ? {</div>
<div class="line">            explanation: explanationData.explanation || &quot;No explanation available&quot;,</div>
<div class="line">            complexity: explanationData.complexity || &quot;medium&quot;,</div>
<div class="line">            recommendations: explanationData.recommendations || [],</div>
<div class="line">          }</div>
<div class="line">        : {</div>
<div class="line">            explanation: &quot;Explanation service unavailable. Please ensure GraphQ-LLM backend is running.&quot;,</div>
<div class="line">            complexity: &quot;unknown&quot;,</div>
<div class="line">            recommendations: [],</div>
<div class="line">          };</div>
<div class="line"> </div>
<div class="line">      // Format optimizations response for UI</div>
<div class="line">      const optimizations = optimizationData?.suggestions</div>
<div class="line">        ? optimizationData.suggestions.map((s: any) =&gt; ({</div>
<div class="line">            query: s.optimizedQuery || query,</div>
<div class="line">            explanation: s.reason || s.suggestion || &quot;Optimization suggestion&quot;,</div>
<div class="line">            confidence: 0.8,</div>
<div class="line">          }))</div>
<div class="line">        : [];</div>
<div class="line"> </div>
<div class="line">      // Format efficiency response for UI</div>
<div class="line">      const efficiency = efficiencyData</div>
<div class="line">        ? {</div>
<div class="line">            score: efficiencyData.efficiencyScore || 0,</div>
<div class="line">            estimatedTime: efficiencyData.estimatedExecutionTime</div>
<div class="line">              ? `${efficiencyData.estimatedExecutionTime}ms`</div>
<div class="line">              : &quot;Unknown&quot;,</div>
<div class="line">            resourceUsage: efficiencyData.estimatedResourceUsage</div>
<div class="line">              ? `CPU: ${efficiencyData.estimatedResourceUsage.cpu || &quot;N/A&quot;}%, Memory: ${efficiencyData.estimatedResourceUsage.memory || &quot;N/A&quot;}MB`</div>
<div class="line">              : &quot;Unknown&quot;,</div>
<div class="line">            recommendations: efficiencyData.recommendations || [],</div>
<div class="line">            complexity: efficiencyData.complexity,</div>
<div class="line">            similarQueries: efficiencyData.similarQueries,</div>
<div class="line">          }</div>
<div class="line">        : {</div>
<div class="line">            score: 0,</div>
<div class="line">            estimatedTime: &quot;Unknown&quot;,</div>
<div class="line">            resourceUsage: &quot;Unknown&quot;,</div>
<div class="line">            recommendations: [],</div>
<div class="line">            complexity: &quot;unknown&quot;,</div>
<div class="line">          };</div>
<div class="line"> </div>
<div class="line">      return NextResponse.json({</div>
<div class="line">        explanation,</div>
<div class="line">        optimizations,</div>
<div class="line">        efficiency,</div>
<div class="line">      });</div>
<div class="line">    } catch (fetchError) {</div>
<div class="line">      // Fallback to mock data if GraphQ-LLM backend is not available</div>
<div class="line">      console.warn(&quot;GraphQ-LLM backend not available, using fallback:&quot;, fetchError);</div>
<div class="line">      </div>
<div class="line">      return NextResponse.json({</div>
<div class="line">        explanation: {</div>
<div class="line">          explanation: `This query retrieves transaction data from ResilientDB. The query structure suggests it&#39;s fetching a single transaction by ID.`,</div>
<div class="line">          complexity: &quot;low&quot;,</div>
<div class="line">          recommendations: [</div>
<div class="line">            &quot;Consider adding pagination for large result sets&quot;,</div>
<div class="line">            &quot;Use specific field selections to reduce payload size&quot;,</div>
<div class="line">          ],</div>
<div class="line">        },</div>
<div class="line">        optimizations: [</div>
<div class="line">          {</div>
<div class="line">            query: query,</div>
<div class="line">            explanation: &quot;Query is already well-optimized for single transaction retrieval.&quot;,</div>
<div class="line">            confidence: 0.85,</div>
<div class="line">          },</div>
<div class="line">        ],</div>
<div class="line">        efficiency: {</div>
<div class="line">          score: 92,</div>
<div class="line">          estimatedTime: &quot;&lt; 10ms&quot;,</div>
<div class="line">          resourceUsage: &quot;Low - Single transaction lookup&quot;,</div>
<div class="line">          recommendations: [</div>
<div class="line">            &quot;Query is efficient for single transaction retrieval&quot;,</div>
<div class="line">          ],</div>
<div class="line">        },</div>
<div class="line">      });</div>
<div class="line">    }</div>
<div class="line">  } catch (error) {</div>
<div class="line">    console.error(&quot;Error analyzing query:&quot;, error);</div>
<div class="line">    return NextResponse.json(</div>
<div class="line">      { error: &quot;Failed to analyze query&quot; },</div>
<div class="line">      { status: 500 }</div>
<div class="line">    );</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><hr  />
<h2><a class="anchor" id="autotoc_md1438"></a>
2. Main Page: <code>src/app/graphql-tutor/page.tsx</code></h2>
<div class="fragment"><div class="line">&quot;use client&quot;;</div>
<div class="line"> </div>
<div class="line">import { useState } from &quot;react&quot;;</div>
<div class="line">import { ResizablePanelGroup, ResizablePanel, ResizableHandle } from &quot;@/components/ui/resizable&quot;;</div>
<div class="line">import { Card, CardHeader, CardTitle, CardDescription, CardContent } from &quot;@/components/ui/card&quot;;</div>
<div class="line">import { Button } from &quot;@/components/ui/button&quot;;</div>
<div class="line">import { TutorPanel } from &quot;./components/tutor-panel&quot;;</div>
<div class="line">import { Loader2 } from &quot;lucide-react&quot;;</div>
<div class="line"> </div>
<div class="line">export default function GraphQLTutorPage() {</div>
<div class="line">  const [query, setQuery] = useState(&quot;&quot;);</div>
<div class="line">  const [analysis, setAnalysis] = useState&lt;any&gt;(null);</div>
<div class="line">  const [loading, setLoading] = useState(false);</div>
<div class="line"> </div>
<div class="line">  const handleAnalyze = async () =&gt; {</div>
<div class="line">    if (!query.trim()) return;</div>
<div class="line"> </div>
<div class="line">    setLoading(true);</div>
<div class="line">    try {</div>
<div class="line">      const response = await fetch(&quot;/api/graphql-tutor/analyze&quot;, {</div>
<div class="line">        method: &quot;POST&quot;,</div>
<div class="line">        headers: { &quot;Content-Type&quot;: &quot;application/json&quot; },</div>
<div class="line">        body: JSON.stringify({ query }),</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      const data = await response.json();</div>
<div class="line">      setAnalysis(data);</div>
<div class="line">    } catch (error) {</div>
<div class="line">      console.error(&quot;Error analyzing query:&quot;, error);</div>
<div class="line">    } finally {</div>
<div class="line">      setLoading(false);</div>
<div class="line">    }</div>
<div class="line">  };</div>
<div class="line"> </div>
<div class="line">  return (</div>
<div class="line">    &lt;div className=&quot;container mx-auto p-6 h-screen flex flex-col&quot;&gt;</div>
<div class="line">      &lt;div className=&quot;mb-4&quot;&gt;</div>
<div class="line">        &lt;h1 className=&quot;text-3xl font-bold&quot;&gt;GraphQL Query Tutor&lt;/h1&gt;</div>
<div class="line">        &lt;p className=&quot;text-muted-foreground&quot;&gt;</div>
<div class="line">          Get AI-powered explanations, optimizations, and efficiency analysis for your GraphQL queries</div>
<div class="line">        &lt;/p&gt;</div>
<div class="line">      &lt;/div&gt;</div>
<div class="line"> </div>
<div class="line">      &lt;ResizablePanelGroup direction=&quot;horizontal&quot; className=&quot;flex-1&quot;&gt;</div>
<div class="line">        &lt;ResizablePanel defaultSize={50} minSize={30}&gt;</div>
<div class="line">          &lt;Card className=&quot;h-full flex flex-col&quot;&gt;</div>
<div class="line">            &lt;CardHeader&gt;</div>
<div class="line">              &lt;CardTitle&gt;GraphQL Query Editor&lt;/CardTitle&gt;</div>
<div class="line">              &lt;CardDescription&gt;</div>
<div class="line">                Write and analyze your ResilientDB GraphQL queries</div>
<div class="line">              &lt;/CardDescription&gt;</div>
<div class="line">            &lt;/CardHeader&gt;</div>
<div class="line">            &lt;CardContent className=&quot;flex-1 flex flex-col&quot;&gt;</div>
<div class="line">              &lt;textarea</div>
<div class="line">                value={query}</div>
<div class="line">                onChange={(e) =&gt; setQuery(e.target.value)}</div>
<div class="line">                placeholder=&#39;Enter your GraphQL query, e.g., { getTransaction(id: &quot;123&quot;) { asset } }&#39;</div>
<div class="line">                className=&quot;flex-1 w-full p-4 border rounded-md font-mono text-sm resize-none&quot;</div>
<div class="line">              /&gt;</div>
<div class="line">              &lt;Button</div>
<div class="line">                onClick={handleAnalyze}</div>
<div class="line">                disabled={loading || !query.trim()}</div>
<div class="line">                className=&quot;mt-4&quot;</div>
<div class="line">              &gt;</div>
<div class="line">                {loading ? (</div>
<div class="line">                  &lt;&gt;</div>
<div class="line">                    &lt;Loader2 className=&quot;mr-2 h-4 w-4 animate-spin&quot; /&gt;</div>
<div class="line">                    Analyzing...</div>
<div class="line">                  &lt;/&gt;</div>
<div class="line">                ) : (</div>
<div class="line">                  &quot;Analyze Query&quot;</div>
<div class="line">                )}</div>
<div class="line">              &lt;/Button&gt;</div>
<div class="line">            &lt;/CardContent&gt;</div>
<div class="line">          &lt;/Card&gt;</div>
<div class="line">        &lt;/ResizablePanel&gt;</div>
<div class="line"> </div>
<div class="line">        &lt;ResizableHandle /&gt;</div>
<div class="line"> </div>
<div class="line">        &lt;ResizablePanel defaultSize={50} minSize={30}&gt;</div>
<div class="line">          &lt;TutorPanel analysis={analysis} loading={loading} /&gt;</div>
<div class="line">        &lt;/ResizablePanel&gt;</div>
<div class="line">      &lt;/ResizablePanelGroup&gt;</div>
<div class="line">    &lt;/div&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><hr  />
<h2><a class="anchor" id="autotoc_md1440"></a>
3. Tutor Panel: <code>src/app/graphql-tutor/components/tutor-panel.tsx</code></h2>
<div class="fragment"><div class="line">&quot;use client&quot;;</div>
<div class="line"> </div>
<div class="line">import { Card, CardHeader, CardTitle, CardContent } from &quot;@/components/ui/card&quot;;</div>
<div class="line">import { Tabs, TabsContent, TabsList, TabsTrigger } from &quot;@/components/ui/tabs&quot;;</div>
<div class="line">import { ExplanationPanel } from &quot;./explanation-panel&quot;;</div>
<div class="line">import { OptimizationPanel } from &quot;./optimization-panel&quot;;</div>
<div class="line">import { EfficiencyDisplay } from &quot;./efficiency-display&quot;;</div>
<div class="line">import { Loader2 } from &quot;lucide-react&quot;;</div>
<div class="line"> </div>
<div class="line">interface TutorPanelProps {</div>
<div class="line">  analysis: any;</div>
<div class="line">  loading: boolean;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">export function TutorPanel({ analysis, loading }: TutorPanelProps) {</div>
<div class="line">  if (loading) {</div>
<div class="line">    return (</div>
<div class="line">      &lt;Card className=&quot;h-full flex items-center justify-center&quot;&gt;</div>
<div class="line">        &lt;Loader2 className=&quot;h-8 w-8 animate-spin&quot; /&gt;</div>
<div class="line">      &lt;/Card&gt;</div>
<div class="line">    );</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  if (!analysis) {</div>
<div class="line">    return (</div>
<div class="line">      &lt;Card className=&quot;h-full flex items-center justify-center&quot;&gt;</div>
<div class="line">        &lt;p className=&quot;text-muted-foreground&quot;&gt;</div>
<div class="line">          Enter a query and click &quot;Analyze Query&quot; to get started</div>
<div class="line">        &lt;/p&gt;</div>
<div class="line">      &lt;/Card&gt;</div>
<div class="line">    );</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  return (</div>
<div class="line">    &lt;Card className=&quot;h-full flex flex-col&quot;&gt;</div>
<div class="line">      &lt;CardHeader&gt;</div>
<div class="line">        &lt;CardTitle&gt;AI Tutor&lt;/CardTitle&gt;</div>
<div class="line">        &lt;p className=&quot;text-sm text-muted-foreground&quot;&gt;</div>
<div class="line">          Get explanations, optimizations, and efficiency analysis</div>
<div class="line">        &lt;/p&gt;</div>
<div class="line">      &lt;/CardHeader&gt;</div>
<div class="line">      &lt;CardContent className=&quot;flex-1 overflow-auto&quot;&gt;</div>
<div class="line">        &lt;Tabs defaultValue=&quot;explanation&quot; className=&quot;w-full&quot;&gt;</div>
<div class="line">          &lt;TabsList className=&quot;grid w-full grid-cols-3&quot;&gt;</div>
<div class="line">            &lt;TabsTrigger value=&quot;explanation&quot;&gt;Explanation&lt;/TabsTrigger&gt;</div>
<div class="line">            &lt;TabsTrigger value=&quot;optimization&quot;&gt;Optimization&lt;/TabsTrigger&gt;</div>
<div class="line">            &lt;TabsTrigger value=&quot;efficiency&quot;&gt;Efficiency&lt;/TabsTrigger&gt;</div>
<div class="line">          &lt;/TabsList&gt;</div>
<div class="line">          &lt;TabsContent value=&quot;explanation&quot; className=&quot;mt-4&quot;&gt;</div>
<div class="line">            &lt;ExplanationPanel explanation={analysis.explanation} /&gt;</div>
<div class="line">          &lt;/TabsContent&gt;</div>
<div class="line">          &lt;TabsContent value=&quot;optimization&quot; className=&quot;mt-4&quot;&gt;</div>
<div class="line">            &lt;OptimizationPanel optimizations={analysis.optimizations} /&gt;</div>
<div class="line">          &lt;/TabsContent&gt;</div>
<div class="line">          &lt;TabsContent value=&quot;efficiency&quot; className=&quot;mt-4&quot;&gt;</div>
<div class="line">            &lt;EfficiencyDisplay efficiency={analysis.efficiency} /&gt;</div>
<div class="line">          &lt;/TabsContent&gt;</div>
<div class="line">        &lt;/Tabs&gt;</div>
<div class="line">      &lt;/CardContent&gt;</div>
<div class="line">    &lt;/Card&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><hr  />
<h2><a class="anchor" id="autotoc_md1442"></a>
4. Explanation Panel: <code>src/app/graphql-tutor/components/explanation-panel.tsx</code></h2>
<div class="fragment"><div class="line">&quot;use client&quot;;</div>
<div class="line"> </div>
<div class="line">import { Card, CardHeader, CardTitle, CardContent } from &quot;@/components/ui/card&quot;;</div>
<div class="line">import { Badge } from &quot;@/components/ui/badge&quot;;</div>
<div class="line"> </div>
<div class="line">interface ExplanationPanelProps {</div>
<div class="line">  explanation: any;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">export function ExplanationPanel({ explanation }: ExplanationPanelProps) {</div>
<div class="line">  if (!explanation) {</div>
<div class="line">    return &lt;p className=&quot;text-muted-foreground&quot;&gt;No explanation available&lt;/p&gt;;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  return (</div>
<div class="line">    &lt;div className=&quot;space-y-4&quot;&gt;</div>
<div class="line">      &lt;div&gt;</div>
<div class="line">        &lt;h3 className=&quot;text-lg font-semibold mb-2&quot;&gt;Query Explanation&lt;/h3&gt;</div>
<div class="line">        &lt;p className=&quot;text-sm text-muted-foreground mb-4&quot;&gt;What this query does&lt;/p&gt;</div>
<div class="line">        &lt;div className=&quot;prose prose-sm max-w-none&quot;&gt;</div>
<div class="line">          &lt;p className=&quot;whitespace-pre-wrap&quot;&gt;{explanation.explanation}&lt;/p&gt;</div>
<div class="line">        &lt;/div&gt;</div>
<div class="line">      &lt;/div&gt;</div>
<div class="line"> </div>
<div class="line">      {explanation.complexity &amp;&amp; (</div>
<div class="line">        &lt;div&gt;</div>
<div class="line">          &lt;h4 className=&quot;text-md font-semibold mb-2&quot;&gt;Complexity&lt;/h4&gt;</div>
<div class="line">          &lt;Badge variant={</div>
<div class="line">            explanation.complexity === &quot;low&quot; ? &quot;default&quot; :</div>
<div class="line">            explanation.complexity === &quot;medium&quot; ? &quot;secondary&quot; : &quot;destructive&quot;</div>
<div class="line">          }&gt;</div>
<div class="line">            {explanation.complexity}</div>
<div class="line">          &lt;/Badge&gt;</div>
<div class="line">        &lt;/div&gt;</div>
<div class="line">      )}</div>
<div class="line"> </div>
<div class="line">      {explanation.recommendations &amp;&amp; explanation.recommendations.length &gt; 0 &amp;&amp; (</div>
<div class="line">        &lt;div&gt;</div>
<div class="line">          &lt;h4 className=&quot;text-md font-semibold mb-2&quot;&gt;Recommendations&lt;/h4&gt;</div>
<div class="line">          &lt;ul className=&quot;list-disc list-inside space-y-1&quot;&gt;</div>
<div class="line">            {explanation.recommendations.map((rec: string, idx: number) =&gt; (</div>
<div class="line">              &lt;li key={idx} className=&quot;text-sm&quot;&gt;{rec}&lt;/li&gt;</div>
<div class="line">            ))}</div>
<div class="line">          &lt;/ul&gt;</div>
<div class="line">        &lt;/div&gt;</div>
<div class="line">      )}</div>
<div class="line">    &lt;/div&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><hr  />
<h2><a class="anchor" id="autotoc_md1444"></a>
5. Optimization Panel: <code>src/app/graphql-tutor/components/optimization-panel.tsx</code></h2>
<div class="fragment"><div class="line">&quot;use client&quot;;</div>
<div class="line"> </div>
<div class="line">import { Card, CardHeader, CardTitle, CardContent } from &quot;@/components/ui/card&quot;;</div>
<div class="line">import { Badge } from &quot;@/components/ui/badge&quot;;</div>
<div class="line"> </div>
<div class="line">interface OptimizationPanelProps {</div>
<div class="line">  optimizations: any[];</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">export function OptimizationPanel({ optimizations }: OptimizationPanelProps) {</div>
<div class="line">  if (!optimizations || optimizations.length === 0) {</div>
<div class="line">    return &lt;p className=&quot;text-muted-foreground&quot;&gt;No optimization suggestions available&lt;/p&gt;;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  return (</div>
<div class="line">    &lt;div className=&quot;space-y-4&quot;&gt;</div>
<div class="line">      &lt;h3 className=&quot;text-lg font-semibold&quot;&gt;Optimization Suggestions&lt;/h3&gt;</div>
<div class="line">      {optimizations.map((opt, idx) =&gt; (</div>
<div class="line">        &lt;Card key={idx}&gt;</div>
<div class="line">          &lt;CardHeader&gt;</div>
<div class="line">            &lt;div className=&quot;flex items-center justify-between&quot;&gt;</div>
<div class="line">              &lt;CardTitle className=&quot;text-sm&quot;&gt;Suggestion {idx + 1}&lt;/CardTitle&gt;</div>
<div class="line">              {opt.confidence &amp;&amp; (</div>
<div class="line">                &lt;Badge variant=&quot;outline&quot;&gt;</div>
<div class="line">                  {Math.round(opt.confidence * 100)}% confidence</div>
<div class="line">                &lt;/Badge&gt;</div>
<div class="line">              )}</div>
<div class="line">            &lt;/div&gt;</div>
<div class="line">          &lt;/CardHeader&gt;</div>
<div class="line">          &lt;CardContent&gt;</div>
<div class="line">            &lt;p className=&quot;text-sm mb-2&quot;&gt;{opt.explanation}&lt;/p&gt;</div>
<div class="line">            {opt.query &amp;&amp; (</div>
<div class="line">              &lt;div className=&quot;mt-2&quot;&gt;</div>
<div class="line">                &lt;p className=&quot;text-xs text-muted-foreground mb-1&quot;&gt;Optimized Query:&lt;/p&gt;</div>
<div class="line">                &lt;code className=&quot;text-xs bg-muted p-2 rounded block&quot;&gt;</div>
<div class="line">                  {opt.query}</div>
<div class="line">                &lt;/code&gt;</div>
<div class="line">              &lt;/div&gt;</div>
<div class="line">            )}</div>
<div class="line">          &lt;/CardContent&gt;</div>
<div class="line">        &lt;/Card&gt;</div>
<div class="line">      ))}</div>
<div class="line">    &lt;/div&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><hr  />
<h2><a class="anchor" id="autotoc_md1446"></a>
6. Efficiency Display: <code>src/app/graphql-tutor/components/efficiency-display.tsx</code></h2>
<div class="fragment"><div class="line">&quot;use client&quot;;</div>
<div class="line"> </div>
<div class="line">import { Card, CardHeader, CardTitle, CardContent } from &quot;@/components/ui/card&quot;;</div>
<div class="line">import { Progress } from &quot;@/components/ui/progress&quot;;</div>
<div class="line">import { Badge } from &quot;@/components/ui/badge&quot;;</div>
<div class="line"> </div>
<div class="line">interface EfficiencyDisplayProps {</div>
<div class="line">  efficiency: any;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">export function EfficiencyDisplay({ efficiency }: EfficiencyDisplayProps) {</div>
<div class="line">  if (!efficiency) {</div>
<div class="line">    return &lt;p className=&quot;text-muted-foreground&quot;&gt;No efficiency data available&lt;/p&gt;;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  const score = efficiency.score || 0;</div>
<div class="line">  const scoreColor = score &gt;= 80 ? &quot;text-green-600&quot; : score &gt;= 60 ? &quot;text-yellow-600&quot; : &quot;text-red-600&quot;;</div>
<div class="line"> </div>
<div class="line">  return (</div>
<div class="line">    &lt;div className=&quot;space-y-4&quot;&gt;</div>
<div class="line">      &lt;div&gt;</div>
<div class="line">        &lt;h3 className=&quot;text-lg font-semibold mb-2&quot;&gt;Efficiency Score&lt;/h3&gt;</div>
<div class="line">        &lt;div className=&quot;space-y-2&quot;&gt;</div>
<div class="line">          &lt;div className=&quot;flex items-center justify-between&quot;&gt;</div>
<div class="line">            &lt;span className=&quot;text-sm&quot;&gt;Overall Efficiency&lt;/span&gt;</div>
<div class="line">            &lt;span className={`text-2xl font-bold ${scoreColor}`}&gt;{score}/100&lt;/span&gt;</div>
<div class="line">          &lt;/div&gt;</div>
<div class="line">          &lt;Progress value={score} className=&quot;h-2&quot; /&gt;</div>
<div class="line">        &lt;/div&gt;</div>
<div class="line">      &lt;/div&gt;</div>
<div class="line"> </div>
<div class="line">      &lt;div className=&quot;grid grid-cols-2 gap-4&quot;&gt;</div>
<div class="line">        &lt;Card&gt;</div>
<div class="line">          &lt;CardHeader&gt;</div>
<div class="line">            &lt;CardTitle className=&quot;text-sm&quot;&gt;Estimated Time&lt;/CardTitle&gt;</div>
<div class="line">          &lt;/CardHeader&gt;</div>
<div class="line">          &lt;CardContent&gt;</div>
<div class="line">            &lt;p className=&quot;text-2xl font-bold&quot;&gt;{efficiency.estimatedTime || &quot;Unknown&quot;}&lt;/p&gt;</div>
<div class="line">          &lt;/CardContent&gt;</div>
<div class="line">        &lt;/Card&gt;</div>
<div class="line"> </div>
<div class="line">        &lt;Card&gt;</div>
<div class="line">          &lt;CardHeader&gt;</div>
<div class="line">            &lt;CardTitle className=&quot;text-sm&quot;&gt;Resource Usage&lt;/CardTitle&gt;</div>
<div class="line">          &lt;/CardHeader&gt;</div>
<div class="line">          &lt;CardContent&gt;</div>
<div class="line">            &lt;p className=&quot;text-sm&quot;&gt;{efficiency.resourceUsage || &quot;Unknown&quot;}&lt;/p&gt;</div>
<div class="line">          &lt;/CardContent&gt;</div>
<div class="line">        &lt;/Card&gt;</div>
<div class="line">      &lt;/div&gt;</div>
<div class="line"> </div>
<div class="line">      {efficiency.complexity &amp;&amp; (</div>
<div class="line">        &lt;div&gt;</div>
<div class="line">          &lt;h4 className=&quot;text-md font-semibold mb-2&quot;&gt;Complexity&lt;/h4&gt;</div>
<div class="line">          &lt;Badge variant={</div>
<div class="line">            efficiency.complexity === &quot;low&quot; ? &quot;default&quot; :</div>
<div class="line">            efficiency.complexity === &quot;medium&quot; ? &quot;secondary&quot; : &quot;destructive&quot;</div>
<div class="line">          }&gt;</div>
<div class="line">            {efficiency.complexity}</div>
<div class="line">          &lt;/Badge&gt;</div>
<div class="line">        &lt;/div&gt;</div>
<div class="line">      )}</div>
<div class="line"> </div>
<div class="line">      {efficiency.recommendations &amp;&amp; efficiency.recommendations.length &gt; 0 &amp;&amp; (</div>
<div class="line">        &lt;div&gt;</div>
<div class="line">          &lt;h4 className=&quot;text-md font-semibold mb-2&quot;&gt;Recommendations&lt;/h4&gt;</div>
<div class="line">          &lt;ul className=&quot;list-disc list-inside space-y-1&quot;&gt;</div>
<div class="line">            {efficiency.recommendations.map((rec: string, idx: number) =&gt; (</div>
<div class="line">              &lt;li key={idx} className=&quot;text-sm&quot;&gt;{rec}&lt;/li&gt;</div>
<div class="line">            ))}</div>
<div class="line">          &lt;/ul&gt;</div>
<div class="line">        &lt;/div&gt;</div>
<div class="line">      )}</div>
<div class="line">    &lt;/div&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><hr  />
<h2><a class="anchor" id="autotoc_md1448"></a>
7. Update Home Page: <code>src/app/page.tsx</code></h2>
<p>Add a navigation link to the GraphQL Tutor. Find your navigation section and add:</p>
<div class="fragment"><div class="line">import Link from &quot;next/link&quot;;</div>
<div class="line">import { Button } from &quot;@/components/ui/button&quot;;</div>
<div class="line"> </div>
<div class="line">// In your navigation or main content area:</div>
<div class="line">&lt;Link href=&quot;/graphql-tutor&quot;&gt;</div>
<div class="line">  &lt;Button variant=&quot;outline&quot;&gt;GraphQL Tutor&lt;/Button&gt;</div>
<div class="line">&lt;/Link&gt;</div>
</div><!-- fragment --><hr  />
<h2><a class="anchor" id="autotoc_md1450"></a>
8. Environment Variables</h2>
<p>Add to Nexus <code>.env</code> file:</p>
<div class="fragment"><div class="line"># GraphQ-LLM Backend URL</div>
<div class="line">GRAPHQ_LLM_API_URL=http://localhost:3001</div>
<div class="line"># Or use NEXT_PUBLIC_ prefix for client-side access:</div>
<div class="line">NEXT_PUBLIC_GRAPHQ_LLM_API_URL=http://localhost:3001</div>
</div><!-- fragment --><hr  />
<h2><a class="anchor" id="autotoc_md1452"></a>
9. Required Dependencies</h2>
<p>Ensure these are installed in Nexus:</p>
<div class="fragment"><div class="line">cd /path/to/nexus</div>
<div class="line">npm install lucide-react</div>
<div class="line"> </div>
<div class="line"># If using shadcn/ui (recommended):</div>
<div class="line"># These should already be installed, but verify:</div>
<div class="line">npm install @radix-ui/react-tabs</div>
<div class="line">npm install @radix-ui/react-progress</div>
</div><!-- fragment --><hr  />
<h2><a class="anchor" id="autotoc_md1454"></a>
10. Verification</h2>
<p>After creating all files:</p>
<ol type="1">
<li><b>Restart Nexus:</b> <div class="fragment"><div class="line"># Stop current server (Ctrl+C)</div>
<div class="line">npm run dev</div>
</div><!-- fragment --></li>
<li><b>Test the API route:</b> <div class="fragment"><div class="line">curl -X POST http://localhost:3000/api/graphql-tutor/analyze \</div>
<div class="line">  -H &quot;Content-Type: application/json&quot; \</div>
<div class="line">  -d &#39;{&quot;query&quot;:&quot;{ getTransaction(id: \&quot;123\&quot;) { asset } }&quot;}&#39;</div>
</div><!-- fragment --></li>
<li><b>Test the UI:</b><ul>
<li>Open <code><a href="http://localhost:3000/graphql-tutor">http://localhost:3000/graphql-tutor</a></code></li>
<li>Enter a query</li>
<li>Click "Analyze Query"</li>
<li>Verify you see explanation, optimization, and efficiency tabs</li>
</ul>
</li>
</ol>
<hr  />
<h2><a class="anchor" id="autotoc_md1456"></a>
üêõ Troubleshooting</h2>
<h3><a class="anchor" id="autotoc_md1457"></a>
<b>Issue: Components not found</b></h3>
<p><b>Solution:</b> Ensure all component files are created in the correct directories:</p><ul>
<li><code>src/app/graphql-tutor/components/tutor-panel.tsx</code></li>
<li><code>src/app/graphql-tutor/components/explanation-panel.tsx</code></li>
<li><code>src/app/graphql-tutor/components/optimization-panel.tsx</code></li>
<li><code>src/app/graphql-tutor/components/efficiency-display.tsx</code></li>
</ul>
<h3><a class="anchor" id="autotoc_md1458"></a>
<b>Issue: UI components not rendering</b></h3>
<p><b>Solution:</b></p><ul>
<li>Check that shadcn/ui components are installed</li>
<li>Verify imports match your component library structure</li>
<li>Check browser console for errors</li>
</ul>
<h3><a class="anchor" id="autotoc_md1459"></a>
<b>Issue: API route returns 500 error</b></h3>
<p><b>Solution:</b></p><ul>
<li>Verify GraphQ-LLM backend is running: <code>curl <a href="http://localhost:3001/health">http://localhost:3001/health</a></code></li>
<li>Check <code>GRAPHQ_LLM_API_URL</code> in Nexus <code>.env</code></li>
<li>Check Nexus server logs for errors</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md1461"></a>
‚úÖ Checklist</h2>
<p>After setup, verify:</p>
<ul class="check">
<li class="unchecked">All 6 files created in correct locations</li>
</ul>
<ul class="check">
<li class="unchecked">Navigation link added to home page</li>
</ul>
<ul class="check">
<li class="unchecked">Environment variable <code>GRAPHQ_LLM_API_URL</code> set</li>
</ul>
<ul class="check">
<li class="unchecked">Dependencies installed (<code>lucide-react</code>, shadcn/ui components)</li>
</ul>
<ul class="check">
<li class="unchecked">Nexus restarted</li>
</ul>
<ul class="check">
<li class="unchecked">API route responds: <code>curl <a href="http://localhost:3000/api/graphql-tutor/analyze">http://localhost:3000/api/graphql-tutor/analyze</a></code></li>
</ul>
<ul class="check">
<li class="unchecked">UI page accessible: <code><a href="http://localhost:3000/graphql-tutor">http://localhost:3000/graphql-tutor</a></code></li>
</ul>
<ul class="check">
<li class="unchecked">Query analysis works in UI</li>
</ul>
<hr  />
<p><b>That's it! Your Nexus UI now has the GraphQL Tutor integration! üéâ</b> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
