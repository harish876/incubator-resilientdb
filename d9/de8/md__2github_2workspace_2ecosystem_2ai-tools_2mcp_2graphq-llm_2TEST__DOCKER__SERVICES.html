#
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#  http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
#
<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ResilientDB: TEST_DOCKER_SERVICES</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="../../logo.png"/></td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d9/de8/md__2github_2workspace_2ecosystem_2ai-tools_2mcp_2graphq-llm_2TEST__DOCKER__SERVICES.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">TEST_DOCKER_SERVICES</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md1641"></a>
üß™ Testing Dockerized Services - Communication Verification</h1>
<p>This guide helps you verify that all dockerized services are running and communicating correctly.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md1643"></a>
üìä Current Service Architecture</h2>
<h3><a class="anchor" id="autotoc_md1644"></a>
<b>Dockerized Services (docker-compose.dev.yml):</b></h3>
<ol type="1">
<li>‚úÖ <b>ResilientDB</b> - Database with GraphQL server<ul>
<li>Container: <code>resilientdb</code></li>
<li>Ports: <code>18000</code> (KV service), <code>5001</code> (GraphQL server)</li>
<li>Network: <code>graphq-llm-network</code></li>
</ul>
</li>
<li>‚úÖ <b>GraphQ-LLM Backend</b> - HTTP API server for Nexus<ul>
<li>Container: <code>graphq-llm-backend</code></li>
<li>Ports: <code>3001</code> (HTTP API), <code>9229</code> (Debug)</li>
<li>Network: <code>graphq-llm-network</code></li>
<li>Connects to: ResilientDB via <code><a href="http://resilientdb:5001/graphql">http://resilientdb:5001/graphql</a></code></li>
</ul>
</li>
<li>‚úÖ <b>GraphQ-LLM MCP Server</b> - Model Context Protocol server<ul>
<li>Container: <code>graphq-llm-mcp-server</code></li>
<li>Transport: stdio (no HTTP port)</li>
<li>Network: <code>graphq-llm-network</code></li>
<li>Connects to: ResilientDB via <code><a href="http://resilientdb:5001/graphql">http://resilientdb:5001/graphql</a></code></li>
</ul>
</li>
<li>‚úÖ <b>ResLens Middleware</b> - Performance monitoring API server (Optional)<ul>
<li>Container: <code>reslens-middleware</code></li>
<li>Ports: <code>3003</code> (HTTP API)</li>
<li>Network: <code>graphq-llm-network</code></li>
<li>Connects to: ResilientDB via <code><a href="http://resilientdb:18000">http://resilientdb:18000</a></code> (KV service)</li>
</ul>
</li>
<li>‚úÖ <b>ResLens Frontend</b> - Performance monitoring UI (Optional)<ul>
<li>Container: <code>reslens-frontend</code></li>
<li>Ports: <code>5173</code> (host) ‚Üí <code>80</code> (container)</li>
<li>Network: <code>graphq-llm-network</code></li>
<li>Connects to: ResLens Middleware via <code><a href="http://reslens-middleware:3003/api/v1">http://reslens-middleware:3003/api/v1</a></code></li>
</ul>
</li>
</ol>
<h3><a class="anchor" id="autotoc_md1645"></a>
<b>External Services (Not Dockerized in dev):</b></h3>
<ol type="1">
<li>‚ö†Ô∏è <b>Nexus</b> - Next.js frontend application<ul>
<li>Runs: Locally with <code>npm run dev</code> (port 3000)</li>
<li>Connects to: GraphQ-LLM Backend via <code><a href="http://localhost:3001">http://localhost:3001</a></code></li>
</ul>
</li>
</ol>
<p><b>Note:</b> Nexus is NOT dockerized in <code>docker-compose.dev.yml</code> but runs separately. It connects to the dockerized backend via exposed ports.</p>
<hr  />
<h2><a class="anchor" id="autotoc_md1647"></a>
‚úÖ Step-by-Step Verification</h2>
<h3><a class="anchor" id="autotoc_md1648"></a>
<b>Step 1: Check All Docker Services Are Running</b></h3>
<div class="fragment"><div class="line"># Check status of all dockerized services</div>
<div class="line">docker-compose -f docker-compose.dev.yml ps</div>
</div><!-- fragment --><p><b>Expected Output:</b> </p><div class="fragment"><div class="line">NAME                    STATUS</div>
<div class="line">resilientdb             Up X minutes (healthy)</div>
<div class="line">graphq-llm-backend      Up X minutes (healthy)</div>
<div class="line">graphq-llm-mcp-server   Up X minutes</div>
<div class="line">reslens-middleware      Up X minutes (healthy/unhealthy)</div>
<div class="line">reslens-frontend        Up X minutes (healthy/unhealthy)</div>
</div><!-- fragment --><p><b>‚úÖ Success Criteria:</b></p><ul>
<li>All core services (1-3) show "Up" status</li>
<li>ResilientDB shows "healthy"</li>
<li>GraphQ-LLM Backend shows "healthy"</li>
<li>MCP Server shows "Up" (may show "unhealthy" - that's OK, it uses stdio)</li>
<li>ResLens services (4-5) show "Up" (optional - may show "unhealthy" but still working)</li>
</ul>
<hr  />
<h3><a class="anchor" id="autotoc_md1650"></a>
<b>Step 2: Test ResilientDB Services</b></h3>
<h4><a class="anchor" id="autotoc_md1651"></a>
<b>2.1: Test ResilientDB KV Service (Port 18000)</b></h4>
<div class="fragment"><div class="line"># Test KV service from host</div>
<div class="line">curl http://localhost:18000/v1/transactions/test</div>
</div><!-- fragment --><p><b>Expected:</b> Any response (even error) means service is running</p>
<h4><a class="anchor" id="autotoc_md1652"></a>
<b>2.2: Test ResilientDB GraphQL Server (Port 5001)</b></h4>
<div class="fragment"><div class="line"># Test GraphQL server from host</div>
<div class="line">curl -X POST http://localhost:5001/graphql \</div>
<div class="line">  -H &quot;Content-Type: application/json&quot; \</div>
<div class="line">  -d &#39;{&quot;query&quot;: &quot;{ __typename }&quot;}&#39;</div>
</div><!-- fragment --><p><b>Expected Response:</b> </p><div class="fragment"><div class="line">{&quot;data&quot;:{&quot;__typename&quot;:&quot;Query&quot;}}</div>
</div><!-- fragment --><p><b>‚úÖ Success Criteria:</b> Returns GraphQL response (not connection error)</p>
<h4><a class="anchor" id="autotoc_md1653"></a>
<b>2.3: Test ResilientDB from Inside Docker Network</b></h4>
<div class="fragment"><div class="line"># Test from backend container (internal network communication)</div>
<div class="line">docker-compose -f docker-compose.dev.yml exec graphq-llm-backend \</div>
<div class="line">  curl -X POST http://resilientdb:5001/graphql \</div>
<div class="line">    -H &quot;Content-Type: application/json&quot; \</div>
<div class="line">    -d &#39;{&quot;query&quot;: &quot;{ __typename }&quot;}&#39;</div>
</div><!-- fragment --><p><b>‚úÖ Success Criteria:</b> Same GraphQL response - proves internal Docker network works</p>
<hr  />
<h3><a class="anchor" id="autotoc_md1655"></a>
<b>Step 3: Test GraphQ-LLM Backend (HTTP API)</b></h3>
<h4><a class="anchor" id="autotoc_md1656"></a>
<b>3.1: Test Health Endpoint</b></h4>
<div class="fragment"><div class="line"># Test health endpoint</div>
<div class="line">curl http://localhost:3001/health</div>
</div><!-- fragment --><p><b>Expected Response:</b> </p><div class="fragment"><div class="line">{&quot;status&quot;:&quot;ok&quot;,&quot;service&quot;:&quot;graphq-llm-api&quot;}</div>
</div><!-- fragment --><p><b>‚úÖ Success Criteria:</b> Returns health status</p>
<h4><a class="anchor" id="autotoc_md1657"></a>
<b>3.2: Test Backend Connection to ResilientDB</b></h4>
<div class="fragment"><div class="line"># Test that backend can query ResilientDB</div>
<div class="line">curl -X POST http://localhost:3001/api/explanations/explain \</div>
<div class="line">  -H &quot;Content-Type: application/json&quot; \</div>
<div class="line">  -d &#39;{&quot;query&quot;: &quot;{ getTransaction(id: \&quot;test\&quot;) { id } }&quot;}&#39;</div>
</div><!-- fragment --><p><b>Expected:</b> Returns explanation with documentation context</p>
<p><b>‚úÖ Success Criteria:</b></p><ul>
<li>Returns 200 OK</li>
<li>Response includes explanation text</li>
<li>No connection errors to ResilientDB</li>
</ul>
<h4><a class="anchor" id="autotoc_md1658"></a>
<b>3.3: Test Backend Logs for ResilientDB Connection</b></h4>
<div class="fragment"><div class="line"># Check backend logs for connection status</div>
<div class="line">docker-compose -f docker-compose.dev.yml logs graphq-llm-backend | grep -i resilientdb</div>
</div><!-- fragment --><p><b>‚úÖ Success Criteria:</b> Should show successful connections or health checks</p>
<hr  />
<h3><a class="anchor" id="autotoc_md1660"></a>
<b>Step 4: Test MCP Server</b></h3>
<h4><a class="anchor" id="autotoc_md1661"></a>
<b>4.1: Check MCP Server Container Status</b></h4>
<div class="fragment"><div class="line"># Check MCP server is running</div>
<div class="line">docker-compose -f docker-compose.dev.yml ps graphq-llm-mcp-server</div>
</div><!-- fragment --><p><b>‚úÖ Success Criteria:</b> Container shows "Up" status</p>
<h4><a class="anchor" id="autotoc_md1662"></a>
<b>4.2: Check MCP Server Logs</b></h4>
<div class="fragment"><div class="line"># Check MCP server logs</div>
<div class="line">docker-compose -f docker-compose.dev.yml logs graphq-llm-mcp-server | tail -20</div>
</div><!-- fragment --><p><b>Expected Output:</b> </p><div class="fragment"><div class="line">MCP Server started and listening on stdio</div>
<div class="line">Live Stats Service: Enabled/Disabled</div>
</div><!-- fragment --><p><b>‚úÖ Success Criteria:</b> Shows "MCP Server started and listening on stdio"</p>
<h4><a class="anchor" id="autotoc_md1663"></a>
<b>4.3: Test MCP Server Connection to ResilientDB (Internal)</b></h4>
<div class="fragment"><div class="line"># Test from MCP server container that it can reach ResilientDB</div>
<div class="line">docker-compose -f docker-compose.dev.yml exec graphq-llm-mcp-server \</div>
<div class="line">  curl -X POST http://resilientdb:5001/graphql \</div>
<div class="line">    -H &quot;Content-Type: application/json&quot; \</div>
<div class="line">    -d &#39;{&quot;query&quot;: &quot;{ __typename }&quot;}&#39;</div>
</div><!-- fragment --><p><b>‚úÖ Success Criteria:</b> Returns GraphQL response - proves MCP server can communicate with ResilientDB</p>
<p><b>Note:</b> MCP server uses stdio transport, so it can't be tested via HTTP directly. It's designed to be spawned as a subprocess by MCP clients.</p>
<hr  />
<h3><a class="anchor" id="autotoc_md1665"></a>
<b>Step 5: Test ResLens Services (Optional - Performance Monitoring)</b></h3>
<h4><a class="anchor" id="autotoc_md1666"></a>
<b>5.1: Test ResLens Middleware</b></h4>
<div class="fragment"><div class="line"># Test ResLens Middleware health endpoint from host</div>
<div class="line">curl http://localhost:3003/api/v1/healthcheck</div>
</div><!-- fragment --><p><b>Expected Response:</b> </p><div class="fragment"><div class="line">{&quot;status&quot;:&quot;UP&quot;}</div>
</div><!-- fragment --><p><b>‚úÖ Success Criteria:</b> Returns health status JSON</p>
<h4><a class="anchor" id="autotoc_md1667"></a>
<b>5.2: Test ResLens Middleware Connection to ResilientDB</b></h4>
<div class="fragment"><div class="line"># Test that middleware can reach ResilientDB from inside Docker network</div>
<div class="line">docker-compose -f docker-compose.dev.yml exec reslens-middleware \</div>
<div class="line">  curl http://resilientdb:18000/v1/transactions/test</div>
</div><!-- fragment --><p><b>‚úÖ Success Criteria:</b> Returns any response (even error) - proves middleware can reach ResilientDB</p>
<h4><a class="anchor" id="autotoc_md1668"></a>
<b>5.3: Test ResLens Frontend</b></h4>
<div class="fragment"><div class="line"># Test ResLens Frontend from host</div>
<div class="line">curl http://localhost:5173</div>
</div><!-- fragment --><p><b>Expected Response:</b> HTML page content (should start with <code>&lt;!DOCTYPE html&gt;</code>)</p>
<p><b>‚úÖ Success Criteria:</b> Returns HTML page</p>
<h4><a class="anchor" id="autotoc_md1669"></a>
<b>5.4: Test ResLens Frontend Connection to Middleware</b></h4>
<div class="fragment"><div class="line"># Test that frontend container can reach middleware</div>
<div class="line">docker-compose -f docker-compose.dev.yml exec reslens-frontend \</div>
<div class="line">  wget -O- http://reslens-middleware:3003/api/v1/healthcheck</div>
</div><!-- fragment --><p><b>Expected Response:</b> </p><div class="fragment"><div class="line">{&quot;status&quot;:&quot;UP&quot;}</div>
</div><!-- fragment --><p><b>‚úÖ Success Criteria:</b> Returns middleware health status - proves frontend can communicate with middleware</p>
<h4><a class="anchor" id="autotoc_md1670"></a>
<b>5.5: Check ResLens Service Logs</b></h4>
<div class="fragment"><div class="line"># Check ResLens Middleware logs</div>
<div class="line">docker-compose -f docker-compose.dev.yml logs reslens-middleware | tail -20</div>
<div class="line"> </div>
<div class="line"># Check ResLens Frontend logs</div>
<div class="line">docker-compose -f docker-compose.dev.yml logs reslens-frontend | tail -20</div>
</div><!-- fragment --><p><b>‚úÖ Success Criteria:</b></p><ul>
<li>Middleware logs show server started successfully</li>
<li>Frontend logs show Nginx serving static files</li>
</ul>
<h4><a class="anchor" id="autotoc_md1671"></a>
<b>5.6: Access ResLens UI</b></h4>
<p>Open in browser: <code><a href="http://localhost:5173">http://localhost:5173</a></code></p>
<p><b>‚úÖ Success Criteria:</b></p><ul>
<li>Page loads successfully</li>
<li>Dashboard displays (may show offline mode if profiling services aren't configured)</li>
<li>No connection errors in browser console</li>
</ul>
<p><b>Note:</b> ResLens services are optional. If they show "unhealthy" but still respond to requests, that's acceptable. Health checks may fail due to timing or configuration, but the services can still function.</p>
<hr  />
<h3><a class="anchor" id="autotoc_md1673"></a>
<b>Step 6: Test Nexus Connection to GraphQ-LLM Backend</b></h3>
<h4><a class="anchor" id="autotoc_md1674"></a>
<b>5.1: Verify Nexus Is Running</b></h4>
<div class="fragment"><div class="line"># Check if Nexus is running (should be running locally, not in Docker)</div>
<div class="line">curl http://localhost:3000/api/research/documents</div>
</div><!-- fragment --><p><b>‚úÖ Success Criteria:</b> Returns response (even if empty array)</p>
<h4><a class="anchor" id="autotoc_md1675"></a>
<b>5.2: Test Nexus API Route That Calls GraphQ-LLM Backend</b></h4>
<div class="fragment"><div class="line"># Test Nexus API route that proxies to GraphQ-LLM</div>
<div class="line">curl -X POST http://localhost:3000/api/graphql-tutor/analyze \</div>
<div class="line">  -H &quot;Content-Type: application/json&quot; \</div>
<div class="line">  -d &#39;{&quot;query&quot;: &quot;{ getTransaction(id: \&quot;test\&quot;) { id asset } }&quot;}&#39;</div>
</div><!-- fragment --><p><b>Expected Response:</b> </p><div class="fragment"><div class="line">{</div>
<div class="line">  &quot;explanation&quot;: &quot;...&quot;,</div>
<div class="line">  &quot;optimizations&quot;: [...],</div>
<div class="line">  &quot;efficiency&quot;: {...}</div>
<div class="line">}</div>
</div><!-- fragment --><p><b>‚úÖ Success Criteria:</b></p><ul>
<li>Returns 200 OK</li>
<li>Response includes explanation, optimizations, and efficiency data</li>
<li>No errors connecting to GraphQ-LLM backend</li>
</ul>
<h4><a class="anchor" id="autotoc_md1676"></a>
<b>5.3: Verify Nexus Environment Configuration</b></h4>
<p>Check that Nexus has the correct backend URL configured:</p>
<div class="fragment"><div class="line"># If Nexus .env file exists, check configuration</div>
<div class="line">grep GRAPHQ_LLM_API_URL /path/to/nexus/.env</div>
</div><!-- fragment --><p><b>Expected:</b> </p><div class="fragment"><div class="line">GRAPHQ_LLM_API_URL=http://localhost:3001</div>
<div class="line"># or</div>
<div class="line">NEXT_PUBLIC_GRAPHQ_LLM_API_URL=http://localhost:3001</div>
</div><!-- fragment --><p><b>‚úÖ Success Criteria:</b> Points to <code><a href="http://localhost:3001">http://localhost:3001</a></code> (the dockerized backend)</p>
<hr  />
<h3><a class="anchor" id="autotoc_md1678"></a>
<b>Step 7: End-to-End Test - Full Communication Chain</b></h3>
<h4><a class="anchor" id="autotoc_md1679"></a>
<b>7.1: Test Complete Flow (GraphQ-LLM)</b></h4>
<ol type="1">
<li><b>Nexus UI</b> ‚Üí <code><a href="http://localhost:3000/graphql-tutor">http://localhost:3000/graphql-tutor</a></code></li>
<li><b>Nexus API</b> ‚Üí <code><a href="http://localhost:3001">http://localhost:3001</a></code> (GraphQ-LLM Backend)</li>
<li><b>GraphQ-LLM Backend</b> ‚Üí <code><a href="http://resilientdb:5001/graphql">http://resilientdb:5001/graphql</a></code> (ResilientDB)</li>
<li><b>ResilientDB</b> ‚Üí Returns data</li>
</ol>
<h4><a class="anchor" id="autotoc_md1680"></a>
<b>7.2: Test Complete Flow (ResLens)</b></h4>
<ol type="1">
<li><b>ResLens Frontend</b> ‚Üí <code><a href="http://localhost:5173">http://localhost:5173</a></code></li>
<li><b>ResLens Frontend</b> ‚Üí <code><a href="http://reslens-middleware:3003/api/v1">http://reslens-middleware:3003/api/v1</a></code> (Middleware API)</li>
<li><b>ResLens Middleware</b> ‚Üí <code><a href="http://resilientdb:18000">http://resilientdb:18000</a></code> (ResilientDB KV service)</li>
<li><b>ResilientDB</b> ‚Üí Returns performance metrics</li>
</ol>
<div class="fragment"><div class="line"># Simulate the full chain</div>
<div class="line"># Step 1: Nexus calls backend</div>
<div class="line">curl -X POST http://localhost:3000/api/graphql-tutor/analyze \</div>
<div class="line">  -H &quot;Content-Type: application/json&quot; \</div>
<div class="line">  -d &#39;{&quot;query&quot;: &quot;{ getTransaction(id: \&quot;123\&quot;) { id asset } }&quot;}&#39; \</div>
<div class="line">  | jq &#39;.&#39;</div>
</div><!-- fragment --><p><b>‚úÖ Success Criteria:</b></p><ul>
<li>Request succeeds through all layers</li>
<li>Response includes all expected data</li>
<li>No connection timeouts or errors</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md1682"></a>
üîç Network Verification</h2>
<h3><a class="anchor" id="autotoc_md1683"></a>
<b>Check Docker Network</b></h3>
<div class="fragment"><div class="line"># Inspect the Docker network</div>
<div class="line">docker network inspect graphq-llm-network</div>
</div><!-- fragment --><p><b>Expected:</b> Should show all containers connected:</p><ul>
<li><code>resilientdb</code></li>
<li><code>graphq-llm-backend</code></li>
<li><code>graphq-llm-mcp-server</code></li>
<li><code>reslens-middleware</code> (if running)</li>
<li><code>reslens-frontend</code> (if running)</li>
</ul>
<p><b>‚úÖ Success Criteria:</b> All containers are connected to the same network</p>
<hr  />
<h2><a class="anchor" id="autotoc_md1685"></a>
üìã Quick Verification Checklist</h2>
<p>Run all these commands to verify everything:</p>
<div class="fragment"><div class="line"># 1. Check all services are running</div>
<div class="line">docker-compose -f docker-compose.dev.yml ps</div>
<div class="line"> </div>
<div class="line"># 2. Test ResilientDB GraphQL</div>
<div class="line">curl -X POST http://localhost:5001/graphql \</div>
<div class="line">  -H &quot;Content-Type: application/json&quot; \</div>
<div class="line">  -d &#39;{&quot;query&quot;: &quot;{ __typename }&quot;}&#39;</div>
<div class="line"> </div>
<div class="line"># 3. Test GraphQ-LLM Backend health</div>
<div class="line">curl http://localhost:3001/health</div>
<div class="line"> </div>
<div class="line"># 4. Test GraphQ-LLM Backend query explanation</div>
<div class="line">curl -X POST http://localhost:3001/api/explanations/explain \</div>
<div class="line">  -H &quot;Content-Type: application/json&quot; \</div>
<div class="line">  -d &#39;{&quot;query&quot;: &quot;{ __typename }&quot;}&#39;</div>
<div class="line"> </div>
<div class="line"># 5. Check MCP server logs</div>
<div class="line">docker-compose -f docker-compose.dev.yml logs graphq-llm-mcp-server | tail -5</div>
<div class="line"> </div>
<div class="line"># 6. Test ResLens Middleware (if running)</div>
<div class="line">curl http://localhost:3003/api/v1/healthcheck</div>
<div class="line"> </div>
<div class="line"># 7. Test ResLens Frontend (if running)</div>
<div class="line">curl http://localhost:5173</div>
<div class="line"> </div>
<div class="line"># 8. Test Nexus backend connection (if Nexus is running)</div>
<div class="line">curl -X POST http://localhost:3000/api/graphql-tutor/analyze \</div>
<div class="line">  -H &quot;Content-Type: application/json&quot; \</div>
<div class="line">  -d &#39;{&quot;query&quot;: &quot;{ __typename }&quot;}&#39;</div>
<div class="line"> </div>
<div class="line"># 9. Check Docker network</div>
<div class="line">docker network inspect graphq-llm-network | grep -A 5 &quot;Containers&quot;</div>
</div><!-- fragment --><hr  />
<h2><a class="anchor" id="autotoc_md1687"></a>
‚ö†Ô∏è Common Issues</h2>
<h3><a class="anchor" id="autotoc_md1688"></a>
<b>Issue 1: MCP Server Shows "unhealthy"</b></h3>
<p><b>Status:</b> ‚úÖ <b>This is NORMAL</b></p><ul>
<li>MCP server uses stdio transport (not HTTP)</li>
<li>No HTTP health endpoint exists</li>
<li>Check logs instead: <code>docker-compose -f docker-compose.dev.yml logs graphq-llm-mcp-server</code></li>
</ul>
<h3><a class="anchor" id="autotoc_md1689"></a>
<b>Issue 2: Nexus Can't Connect to Backend</b></h3>
<p><b>Check:</b></p><ol type="1">
<li>Is GraphQ-LLM backend running? <code>curl <a href="http://localhost:3001/health">http://localhost:3001/health</a></code></li>
<li>Is Nexus <code>.env</code> configured correctly? Should have <code>GRAPHQ_LLM_API_URL=<a href="http://localhost:3001">http://localhost:3001</a></code></li>
<li>Is Nexus running? <code>curl <a href="http://localhost:3000">http://localhost:3000</a></code></li>
</ol>
<h3><a class="anchor" id="autotoc_md1690"></a>
<b>Issue 3: Backend Can't Connect to ResilientDB</b></h3>
<p><b>Check:</b></p><ol type="1">
<li>Is ResilientDB running? <code>docker-compose -f docker-compose.dev.yml ps resilientdb</code></li>
<li>Test GraphQL server: <code>curl -X POST <a href="http://localhost:5001/graphql">http://localhost:5001/graphql</a> ...</code></li>
<li>Check backend logs: <code>docker-compose -f docker-compose.dev.yml logs graphq-llm-backend</code></li>
</ol>
<h3><a class="anchor" id="autotoc_md1691"></a>
<b>Issue 4: ResLens Services Show "unhealthy"</b></h3>
<p><b>Status:</b> ‚ö†Ô∏è <b>May be normal</b></p><ul>
<li>ResLens health checks may fail due to timing or configuration</li>
<li>Services can still function even if health check shows "unhealthy"</li>
<li>Check if services respond to requests: <div class="fragment"><div class="line">curl http://localhost:3003/api/v1/healthcheck  # Middleware</div>
<div class="line">curl http://localhost:5173                      # Frontend</div>
</div><!-- fragment --></li>
<li>If services respond, they're working despite health check status</li>
</ul>
<h3><a class="anchor" id="autotoc_md1692"></a>
<b>Issue 5: ResLens Frontend Can't Connect to Middleware</b></h3>
<p><b>Check:</b></p><ol type="1">
<li>Is middleware running? <code>curl <a href="http://localhost:3003/api/v1/healthcheck">http://localhost:3003/api/v1/healthcheck</a></code></li>
<li>Check middleware logs: <code>docker-compose -f docker-compose.dev.yml logs reslens-middleware</code></li>
<li>Test network connectivity: <code>docker-compose -f docker-compose.dev.yml exec reslens-frontend wget -O- <a href="http://reslens-middleware:3003/api/v1/healthcheck">http://reslens-middleware:3003/api/v1/healthcheck</a></code></li>
<li>Verify both containers are on the same network: <code>docker network inspect graphq-llm-network</code></li>
</ol>
<h3><a class="anchor" id="autotoc_md1693"></a>
<b>Issue 6: ResLens Middleware Can't Connect to ResilientDB</b></h3>
<p><b>Check:</b></p><ol type="1">
<li>Is ResilientDB running? <code>docker-compose -f docker-compose.dev.yml ps resilientdb</code></li>
<li>Test ResilientDB KV service: <code>curl <a href="http://localhost:18000/v1/transactions/test">http://localhost:18000/v1/transactions/test</a></code></li>
<li>Test from middleware container: <code>docker-compose -f docker-compose.dev.yml exec reslens-middleware curl <a href="http://resilientdb:18000/v1/transactions/test">http://resilientdb:18000/v1/transactions/test</a></code></li>
<li>Check middleware logs: <code>docker-compose -f docker-compose.dev.yml logs reslens-middleware</code></li>
</ol>
<hr  />
<h2><a class="anchor" id="autotoc_md1695"></a>
üéØ Success Summary</h2>
<p>All services are communicating correctly when:</p>
<p><b>Core Services (Required):</b></p><ul>
<li>‚úÖ ResilientDB responds to GraphQL queries</li>
<li>‚úÖ GraphQ-LLM Backend health check passes</li>
<li>‚úÖ GraphQ-LLM Backend can query ResilientDB</li>
<li>‚úÖ MCP Server is running (logs show "started")</li>
<li>‚úÖ MCP Server can reach ResilientDB (internal network)</li>
<li>‚úÖ Nexus can call GraphQ-LLM Backend API</li>
<li>‚úÖ All containers are on the same Docker network</li>
</ul>
<p><b>ResLens Services (Optional):</b></p><ul>
<li>‚úÖ ResLens Middleware responds to health check (<code><a href="http://localhost:3003/api/v1/healthcheck">http://localhost:3003/api/v1/healthcheck</a></code>)</li>
<li>‚úÖ ResLens Middleware can reach ResilientDB (internal network)</li>
<li>‚úÖ ResLens Frontend serves HTML (<code><a href="http://localhost:5173">http://localhost:5173</a></code>)</li>
<li>‚úÖ ResLens Frontend can communicate with Middleware (internal network)</li>
<li>‚úÖ ResLens UI is accessible in browser (<code><a href="http://localhost:5173">http://localhost:5173</a></code>)</li>
</ul>
<hr  />
<p><b>Ready to test? Start with Step 1! üöÄ</b> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
